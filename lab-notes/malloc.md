# Malloc lab 实验解析

实验还是很难的，虽然思路其实很简单，原书中给出了很好的解释，但是写起来真的很要命，gdb 调的各种信息满天飞，本来想实现一下伙伴系统，但是调显式和隐式链表调得我实在是头晕目眩了，看到网上有人用 BST 做出来接近满分的成绩，还是自叹不如。写完显式链表，感觉多放几个指针，计算一下取反的地址就是伙伴系统了，做起来估计又是长长的 debug。想着显式空闲链表都写过了，后面的分离适配就是多几条链表，再加一点合并和分割的优化，凑合着也算把实验完成了吧，伙伴系统就放下了。

## 隐式空闲链表实验结果

![](https://raw.githubusercontent.com/charming-c/image-host/master/img/2023-12-03-14-19-42-image.png)

## 显式空闲链表实验结果

![](https://raw.githubusercontent.com/charming-c/image-host/master/img/2023-12-03-14-20-09-image.png)

对比一下实验结果还是可以看出来，对比于隐式空闲链表，在空间利用率损失了一点的情况，吞吐率的提升还是巨大的。

